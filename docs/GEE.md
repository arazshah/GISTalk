**عنوان: ابزاری تعاملی برای تحلیل و بصری‌سازی داده‌های زمین‌مکانی با Google Earth Engine**

بسته نرم‌افزاری **GMAP**، یک بسته پایتون متن‌باز است که برای بصری‌سازی تعاملی و تحلیل داده‌ها با استفاده از Google Earth Engine (EE) توسعه یافته است. این بسته بر پایه API پایتون Google Earth Engine بنا شده و همچنین از چندین کتابخانه نقشه‌برداری متن‌باز برای بصری‌سازی بهره می‌برد. هدف اصلی GMAP این است که امکان انجام محاسبات در مقیاس بزرگ با استفاده از EE و در عین حال بصری‌سازی آسان داده‌ها را در محیط‌های ژوپیتر (Jupyter) فراهم کند.

توسعه‌دهنده GMAP، که یک استادیار و همکار پژوهشی ارشد است، این پروژه را به دلیل محدودیت‌های API پایتون Google Earth Engine در زمان شروع کارش در سال ۲۰۱۷ آغاز کرد. در آن زمان، در حالی که API جاوااسکریپت EE دارای مستندات جامع و پشتیبانی بومی برای هم محاسبات و هم بصری‌سازی بود، API پایتون عمدتاً فقط قابلیت‌های محاسباتی را ارائه می‌داد و بصری‌سازی مستقیم داده‌ها به راحتی امکان‌پذیر نبود. این موضوع استفاده از پایتون برای کارهای زمین‌مکانی که نیازمند مشاهده داده‌ها، بزرگنمایی و کوچک‌نمایی تعاملی هستند را دشوار می‌کرد.

GMAP با استفاده از کتابخانه‌های نقشه‌برداری مانند folium و ipyleaflet این شکاف را پر می‌کند و امکان **بصری‌سازی تعاملی** در محیط پایتون را فراهم می‌آورد. ipyleaflet به عنوان پیش‌فرض در GMAP استفاده می‌شود، زیرا قابلیت ارتباط دوطرفه را دارد؛ به این معنی که می‌توانید با کلیک کردن روی نقشه مختصات را دریافت کنید و از آن برای انجام محاسبات مانند آمار منطقه‌ای یا برش تصاویر استفاده کنید.

گردش کار کلی با GMAP شامل وارد کردن بسته، ایجاد یک نقشه تعاملی، بارگیری داده‌ها از کاتالوگ عظیم داده EE (که در حال حاضر بیش از ۹۰ پتابایت داده دارد و روزانه در حال افزایش است) و افزودن آن‌ها به نقشه برای بصری‌سازی است. **کاتالوگ داده Earth Engine** شبیه به یک کتابخانه عظیم از داده‌های ماهواره‌ای و زمین‌مکانی عمومی است که با یک "شناسه دارایی" قابل دسترسی هستند.

نکته مهم در مورد Google Earth Engine و GMAP این است که داده‌ها به صورت **محاسبات ابری** پردازش می‌شوند و **به صورت جریانی (streaming)** برای بصری‌سازی به کلاینت (مرورگر) منتقل می‌شوند، مشابه تماشای فیلم در سرویس‌های پخش آنلاین مانند نتفلیکس. شما کل فایل داده را دانلود نمی‌کنید؛ بلکه EE بر اساس ناحیه نمایش نقشه و سطح بزرگنمایی شما، داده‌ها را پردازش کرده و به صورت لایه‌های کاشی (tile layers) برای نمایش ارسال می‌کند. این روش، بصری‌سازی و کار با مجموعه داده‌های بسیار بزرگ در مقیاس جهانی را بسیار سریع می‌کند.

درک تفاوت بین **اشیاء سمت کلاینت (client-side objects)** و **اشیاء سمت سرور (server-side objects)** در Earth Engine ضروری است. اشیاء سمت سرور، داده‌ها و محاسبات هستند که در ابر Google قرار دارند و شما فقط با یک متغیر به آن‌ها اشاره می‌کنید. شما نمی‌توانید مستقیماً آن‌ها را مانند یک فایل محلی بارگیری کنید (مگر در بخش‌های کوچک یا پس از پردازش). اشیاء سمت کلاینت در حافظه دستگاه شما قرار دارند. GMAP به شما امکان می‌دهد با اشیاء سمت سرور محاسبات انجام دهید و سپس نتایج را به صورت اشیاء سمت کلاینت برای بصری‌سازی در مرورگر دریافت کنید.

برخلاف پلاگین‌های دسکتاپ GIS (مانند QGIS یا ArcGIS) که عمدتاً برای بصری‌سازی داده‌های EE به عنوان نقشه‌های پایه یا اجرای اسکریپت‌های EE استفاده می‌شوند، GMAP به طور خاص برای یکپارچه‌سازی عمیق‌تر در محیط پایتون طراحی شده است. هرچند پلاگین‌های GIS دسکتاپ نیز می‌توانند با استفاده از API محاسبات EE را انجام دهند، اما نمی‌توانند از ابزارهای پردازش بومی خود بر روی اشیاء داده EE استفاده کنند. GMAP یک محیط سبک‌تر و مرورگرمحور را ارائه می‌دهد.

برای **افزودن داده‌های محلی** به GMAP، دو راه وجود دارد: می‌توانید داده‌ها را صرفاً برای بصری‌سازی اضافه کنید (چه رستری، چه وکتوری، چه داده‌های مبتنی بر ابر مانند Cloud Optimized GeoTIFF). اما اگر می‌خواهید داده‌های محلی خود را با داده‌ها یا محاسبات Earth Engine ترکیب کنید، باید داده محلی را به یک شیء سمت سرور Earth Engine تبدیل کنید. GMAP برای داده‌های وکتوری کوچک (مانند GeoJSON یا Shapefile با حجم کمتر از ۱۰ مگابایت) قابلیت تبدیل در لحظه (on the fly) را دارد. داده‌های بزرگتر باید مستقیماً در حساب Earth Engine کاربر از طریق ویرایشگر کد EE بارگذاری شوند تا به طور دائمی در آنجا ذخیره شوند (که اشتراک‌گذاری آن‌ها نیز قابل کنترل است).

**خروجی گرفتن از داده‌ها** در Google Earth Engine نیز امکان‌پذیر است. فرمت‌های مختلفی برای خروجی گرفتن از داده‌های رستری (Geotiff, Cloud Optimized Geotiff) و وکتوری (GeoJSON, Shapefile, CSV) پشتیبانی می‌شوند. همچنین امکان خروجی گرفتن به فرمت‌های جدیدتر مانند Xarray وجود دارد. خروجی‌ها را می‌توان در Google Drive، Google Cloud Storage یا به صورت محلی ذخیره کرد. با این حال، به شدت توصیه می‌شود که به جای دانلود مجموعه داده‌های خام بزرگ، نتایج خلاصه یا بخش‌های کوچکی از داده‌ها را پس از انجام محاسبات در ابر خروجی بگیرید. این کار بسیار سریع‌تر است و از منابع مشترک EE به نحو بهتری استفاده می‌کند. دانلود داده‌های خام و بزرگ، مزیت محاسبات ابری را از بین می‌برد و می‌تواند زمان‌بر باشد.

با وجود قابلیت‌های فراوان، Google Earth Engine (و در نتیجه GMAP) برای همه انواع تحلیل مناسب نیست. به عنوان مثال، تحلیل‌هایی که نیازمند ردیابی ویژگی‌ها در فواصل طولانی یا وابستگی به اطلاعات مکانی دوردست هستند (مانند مسیرهای جریان آب در تحلیل‌های هیدرولوژیکی)، برای EE مناسب نیستند. EE برای محاسبات پیکسلی و تحلیل‌های مبتنی بر مکان در مقیاس بزرگ بهینه شده است. همچنین، برنامه‌نویسان پایتون که به EE روی می‌آورند باید از استفاده از حلقه‌های for سنتی برای تکرار بر روی مجموعه داده‌های بزرگ خودداری کنند؛ EE برای پردازش موازی از توابع "map" استفاده می‌کند که داده‌ها را به قطعات کوچک تقسیم کرده و آن‌ها را همزمان بر روی چندین سرور پردازش می‌کند.

مزیت اصلی استفاده از Google Earth Engine و ابزارهایی مانند GMAP، دسترسی به **کاتالوگ داده عظیم و رایگان** و توانایی انجام محاسبات در مقیاس جهانی با سرعت بالا است. این ابزارها به دانشمندان اجازه می‌دهند تا بیشتر بر روی سوالات علمی تمرکز کنند، به جای صرف زمان زیاد برای مدیریت، دانلود و پیش‌پردازش داده‌ها. برای مثال، ایجاد یک تصویر موزاییک بدون ابر برای یک منطقه بزرگ یا حتی کل جهان با استفاده از EE و GMAP می‌تواند تنها با چند خط کد انجام شود.

در زمینه داده‌های وکتوری در مقیاس بزرگ، Google دارای BigQuery است و در حال حاضر تلاش‌هایی برای ایجاد ارتباط و امکان تعامل بین Earth Engine و BigQuery در حال انجام است تا تحلیل مجموعه داده‌های وکتوری حجیم در ابر تسهیل شود.

GMAP یک پروژه **متن‌باز** است و اخیراً به طور **رسمی توسط Google پذیرفته شده است**. تیم Google Earth Engine از اواسط سال ۲۰۲۳ شروع به همکاری برای نگهداری و توسعه قابلیت‌های اصلی بصری‌سازی GMAP کرده است. این همکاری منجر به بهبودهای ساختاری در بسته شده و پشتیبانی رسمی از GMAP در مستندات Google Earth Engine نمایان شده است. همچنین، GMAP اکنون به طور **پیش‌فرض در Google Colab** نصب شده است، که استفاده از آن را برای کاربران جدید بدون نیاز به نصب یا پیکربندی اولیه بسیار آسان می‌کند.

توسعه‌دهنده GMAP، این ابزار را ابتدا برای نیازهای شخصی و آموزش دانشجویان خود ایجاد کرد. با این حال، با به اشتراک گذاشتن کار خود در GitHub و ایجاد محتوای آموزشی، جامعه بزرگتری از آن بهره‌مند شدند. این فعالیت‌ها منجر به همکاری‌ها، فرصت‌های تامین مالی و ارتباط با جامعه زمین‌مکانی شده است. هدف اصلی او از ساخت و اشتراک‌گذاری این ابزارها، **آسان‌تر کردن دسترسی به ابزارها و داده‌های قدرتمند**، به‌ویژه برای کسانی که ممکن است به کامپیوترهای قدرتمند دسترسی نداشته باشند، بوده است. همه ابزارهای توسعه‌یافته توسط او به صورت رایگان در مخازن GitHub در دسترس هستند و او از مشارکت جامعه استقبال می‌کند و تلاش می‌کند به سوالات کاربران پاسخ دهد.